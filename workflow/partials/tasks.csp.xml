<?xml version="1.0" encoding="UTF-8"?>
<Export generator="Cache" version="25">
<CSP name="partials/tasks.csp" application="/workflow/"><![CDATA[
<div class="row-fluid">
  <div class="span1">
  </div>
  
  <div ng-show="page.loginState == 1" ng-controller="GridCtrl">
    <table ng-class="page.grid.cssClass" style="cursor: pointer;" id="tasksTable">
      <caption class="text-left" style="padding-bottom: 5px;">
        <b ng-bind="page.grid.caption"></b>
      </caption>
      <thead>
        <tr>
          <th>#</th>
          <!-- In the cycle prints the name of the column, specify for each column click handler and the icon (sorting) -->
          <th ng-repeat="column in page.grid.columns" ng-click="page.sort(column.property, page.isUp)">
            <span ng-bind="column.name"></span>
              <i ng-class="page.sortIcon" ng-show="column.property == page.predicate"></i>   
          </th>
        </tr>
      </thead>
      <tfoot>
        <tr>
          <!-- Control buttons and messages -->
          <td colspan="{{page.grid.columns.length + 1}}">
            <p ng-hide="page.grid.items.length">There is no task(s) for current user.</p>
            <span ng-hide="(page.grid.items.length == 0) || page.grid.selected">
              Showing {{page.totalCnt()}} of {{page.grid.items.length}} tasks.
            </span> 
            <button class="btn btn-small btn-primary" ng-click="page.accept(page.grid.selected.ID)"   ng-show="!page.isAssigned(page.grid.selected) && page.grid.selected">Accept</button>
            <button class="btn btn-small btn-success"  ng-click="page.modalOpen('lg', page.grid.selected.ID)" ng-show="page.isAssigned(page.grid.selected)">Details</button>
            <button class="btn btn-small btn-danger"  ng-click="page.yield(page.grid.selected.ID)" ng-show="page.isAssigned(page.grid.selected)">Yield</button>
          </td>
        </tr>   
      </tfoot>
      <tbody>
        <!-- In the cycle prints the table rows (sort by specified column) -->
        <tr ng-repeat="item in page.grid.items | orderBy:page.predicate:page.isUp | filter:query" ng-class="item.rowCss" ng-click="page.select(item)">
          <td ng-bind="$index + 1"></td>    
          <!-- In the cycle prints the table cells to each row -->
          <td ng-repeat="column in page.grid.columns">
            <span class="label label-info" ng-show="$first && item.New">New</span>
            <span ng-hide="$first" ng-bind="page.getPropertyValue(item, column.property)"></span>     
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="span1">
  </div>
</div>
<br>
]]></CSP>
</Export>
