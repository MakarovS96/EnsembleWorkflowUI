<?xml version="1.0" encoding="UTF-8"?>
<Export generator="Cache" version="25">
<CSP name="js/controllers/TaskCtrl.js" application="/workflow/"><![CDATA[
'use strict';

// Task controller
// dependency injection
function TaskCtrl( $scope, $routeParams, $location, $modalInstance, TaskSrvc, task) {
  $scope.page = { task:{} };
  $scope.page.task = task;

  // submit the task form
  $scope.page.submit = function() {
    TaskSrvc.save($scope.page.task).then(
      function( data ) {
        // clear the form
        $scope.pageForm.$setPristine();
      },
      function( data, status, headers, config ) {
        $scope.alerts.push( {type: 'error', msg: 'Task is not saved.'} );  
      });
  };
  
  $scope.page.cancel = function () {
    $modalInstance.dismiss('cancel');
  };
}

// resolving minification problems
TaskCtrl.$inject = [ '$scope', '$routeParams', '$location', '$modalInstance', 'TaskSrvc', 'task' ];
controllersModule.controller( 'TaskCtrl', TaskCtrl );

]]></CSP>
</Export>
